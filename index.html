<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>NFC Reader/Writer</title><style>#log{white-space:pre-wrap;font-family:monospace;margin-top:20px}</style><script defer="defer" src="/react-nfc-hook/static/js/main.a85ba809.js"></script><link href="/react-nfc-hook/static/css/main.e6c13ad2.css" rel="stylesheet"></head><body><h1>NFC Reader/Writer Demo 7</h1><button id="scanButton">Scan NFC</button> <button id="writeButton">Write NFC</button> <button id="makeReadOnlyButton">Make NFC Read-Only</button><div id="log"></div><script>const log=e=>{document.getElementById("log").textContent+=e+"\n"},decodeTextRecord=e=>new TextDecoder(e.encoding).decode(e.data),decodeURLRecord=e=>{const t=new TextDecoder,n=e.data[0],o=t.decode(e.data.subarray(1));return["","http://www.","https://www.","http://","https://","tel:","mailto:","ftp://anonymous:anonymous@","ftp://ftp.","ftps://","sftp://","smb://","nfs://","ftp://","dav://","news:","telnet://","imap:","rtsp://","urn:","pop:","sip:","sips:","tftp:","btspp://","btl2cap://","btgoep://","tcpobex://","irdaobex://","file://","urn:epc:id:","urn:epc:tag:","urn:epc:pat:","urn:epc:raw:","urn:epc:","urn:nfc:"][n]+o},decodeMimeRecord=e=>(new TextDecoder).decode(e.data),decodeDeviceEngagementRecord=e=>(new TextDecoder).decode(e.data);document.getElementById("scanButton").addEventListener("click",(async()=>{log("User clicked scan button");try{const e=new NDEFReader;await e.scan(),log("> Scan started"),e.addEventListener("readingerror",(()=>{log("Argh! Cannot read data from the NFC tag. Try another one?")})),e.addEventListener("reading",(({message:e})=>{log(`> Records: (${e.records.length})`);for(const t of e.records){log(`Record:::: ${t}`),console.log(t);const e=decodeTextRecord(t);log(`Text: ${e}`)}}))}catch(e){log("Argh! "+e)}})),document.getElementById("writeButton").addEventListener("click",(async()=>{log("User clicked write button");try{const e=new NDEFReader,t=new TextEncoder;await e.write({records:[{recordType:"mime",mediaType:"application/json",data:t.encode(JSON.stringify({name:"Gunet",title:"Demo"}))}]}),log("> Message written")}catch(e){log("Argh! "+e)}})),document.getElementById("makeReadOnlyButton").addEventListener("click",(async()=>{log("User clicked make read-only button");try{const e=new NDEFReader;await e.makeReadOnly(),log("> NFC tag has been made permanently read-only")}catch(e){log("Argh! "+e)}}))</script></body></html>